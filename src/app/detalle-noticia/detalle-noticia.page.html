<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/noticias"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ noticia ? noticia.titulo : 'Detalle de Noticia' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Indicador de Carga (Spinner) -->
  <div *ngIf="estaCargando" class="ion-text-center ion-padding-top">
    <ion-spinner name="crescent" color="primary"></ion-spinner>
    <p>Cargando noticia...</p>
  </div>

  <!-- Tarjeta de Detalle de Noticia -->
  <ion-card *ngIf="noticia && !estaCargando">
    <img *ngIf="noticia.url_foto" [src]="noticia.url_foto" alt="Foto de la noticia" class="w-full h-auto object-cover rounded-t-lg">
    <ion-card-header>
      <ion-card-title class="text-2xl font-bold">{{ noticia.titulo }}</ion-card-title>
      <ion-card-subtitle class="text-sm text-gray-500">
        Autor: {{ noticia.nombre_autor || 'An√≥nimo' }}
        <span *ngIf="noticia.fecha_creacion"> | Publicado el: {{ noticia.fecha_creacion | date:'mediumDate' }}</span>
      </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <p class="text-gray-700 leading-relaxed whitespace-pre-line">{{ noticia.contenido }}</p>
    </ion-card-content>
  </ion-card>

  <!-- Mensaje de Error o Noticia no encontrada -->
  <div *ngIf="!noticia && !estaCargando" class="ion-text-center ion-padding">
    <ion-icon name="warning-outline" color="danger" size="large"></ion-icon>
    <h2 class="text-xl font-semibold">Noticia no encontrada</h2>
    <p class="text-gray-600">Lo sentimos, no pudimos cargar el detalle de la noticia. Por favor, verifica el ID.</p>
  </div>

</ion-content>