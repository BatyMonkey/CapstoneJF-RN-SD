import{a as be,b as _e,c as ye}from"./chunk-IIFLUBAB.js";import{a as fe}from"./chunk-CL4KBMSP.js";import{b as N}from"./chunk-SIZNMXVG.js";import{a as A}from"./chunk-TX5AFJTF.js";import"./chunk-66QFWZLQ.js";import{A as g,B as T,C as P,E as y,Ea as Q,F as w,G as C,Ga as $,Ha as ee,Ia as te,Ja as ie,Ka as ne,Na as oe,P as D,S as L,Sa as re,Ua as ae,Va as le,_ as F,ab as se,c as B,da as W,ea as z,f,g as b,ga as j,gb as de,hb as ce,i as s,ia as q,ib as pe,j as I,ja as X,jb as me,k as V,m as x,o as p,p as r,pa as K,q as d,qa as G,r as _,ra as H,rb as ue,ta as J,u as U,ub as ge,v as S,vb as he,w as v,x as R,ya as Y,za as Z}from"./chunk-H7HGEQUX.js";import"./chunk-G4GOZ2R2.js";import"./chunk-2GHFZAQB.js";import"./chunk-QUJFQN2Y.js";import"./chunk-VBARJE22.js";import"./chunk-6T3MRKSY.js";import"./chunk-LG5HFCS7.js";import"./chunk-PTM2QU7L.js";import"./chunk-Z7QLWI7J.js";import"./chunk-DNXVUVY2.js";import"./chunk-JS56SECH.js";import"./chunk-GFYYGWWH.js";import"./chunk-EXVGCGBZ.js";import"./chunk-IACAUHTZ.js";import"./chunk-WIVIOYVM.js";import"./chunk-ULQSOQCK.js";import"./chunk-JOPIHTUJ.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-EKNMT7ZB.js";import"./chunk-CKP3SGE2.js";import"./chunk-K6CL52MX.js";import{a as k,j as E}from"./chunk-VI73JOY6.js";var we=(()=>{let m=class m{recognizeSmart(t){return E(this,null,function*(){let n=yield this.readText(t),e=this.parseCedula(n);return k({raw:n},e)})}readText(t){return E(this,null,function*(){if(N.getPlatform()==="web")return"";let{Ocr:n}=yield import("./chunk-MCADTTGL.js"),{results:e}=yield n.process({image:t});return(e||[]).map(a=>a.text).filter(Boolean).join(`
`).trim()})}parseCedula(t){let n=(t||"").replace(/[^\S\r\n]+/g," ").replace(/\s+\n/g,`
`).replace(/\n{2,}/g,`
`).trim(),e=this.extractRun(n),o=this.extractBetween(n,/APELLIDOS?/i,[/NOMBRES?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),a=this.extractBetween(n,/NOMBRES?/i,[/APELLIDOS?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),{primerApellido:i,segundoApellido:c}=this.splitApellidos(o),{primerNombre:u,segundoNombre:h}=this.splitNombres(a),M=this.extractFechaNacimiento(n),Ce=this.extractSexo(n);return{rut:e,primerNombre:u||null,segundoNombre:h||null,primerApellido:i||null,segundoApellido:c||null,fechaNacimiento:M||null,sexo:Ce||null}}extractRun(t){let n=/RUN[^0-9Kk]*([\d\. ]{6,}\s*[-–—]?\s*[0-9Kk])/i,e=/\b(\d{1,3}(?:[.\s]?\d{3}){1,2}|\d{7,8})\s*[-–—]?\s*([0-9Kk])\b/,o=t.match(n);if(o||(o=t.match(e)),!o)return null;let c=(o[1]||(o[0]??"")).replace(/\s|\./g,"").toUpperCase().replace(/–|—/g,"-").match(/^(\d+)-?([0-9K])$/i);if(!c)return null;let u=c[1],h=c[2].toUpperCase(),M=`${u}-${h}`;return this.validaRutDV(M)?M:null}extractBetween(t,n,e){let o=t.match(n);if(!o)return"";let a=t.indexOf(o[0])+o[0].length,i=t.slice(a),c=i.length;for(let h of e){let M=i.search(h);M!==-1&&M<c&&(c=M)}return i.slice(0,c).replace(/\n/g," ").replace(/[,:;]/g," ").replace(/\s{2,}/g," ").trim().replace(/^APELLIDOS?\s+/i,"").replace(/^NOMBRES?\s+/i,"").toUpperCase()}splitApellidos(t){let n=t.split(/\s+/).filter(Boolean),e="",o="";return n.length>=2?[e,o]=[n[0],n[1]]:n.length===1&&(e=n[0]),{primerApellido:this.cap(e),segundoApellido:this.cap(o)}}splitNombres(t){let n=t.split(/\s+/).filter(Boolean),e="",o="";return n.length>=2?[e,o]=[n[0],n[1]]:n.length===1&&(e=n[0]),{primerNombre:this.cap(e),segundoNombre:this.cap(o)}}extractFechaNacimiento(t){let e=this.extractBetween(t,/(F\.?\s*NAC\.?|FECHA\s+DE\s+NACIMIENTO|NACIMIENTO)/i,[/SEXO/i,/NACIONALIDAD/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i])||t,o=/\b(\d{1,2})\s+([A-ZÁÉÍÓÚÑ]{3,})\s+(\d{4})\b/i,a=e.match(o);if(a){let c=this.pad2(+a[1]),u=this.monthEsToNum(a[2]),h=a[3];if(u)return`${h}-${u}-${c}`}let i=e.match(/\b(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})\b/);if(i){let c=this.pad2(+i[1]),u=this.pad2(+i[2]);return`${i[3]}-${u}-${c}`}return null}extractSexo(t){let n=this.extractBetween(t,/SEXO/i,[/NACIONALIDAD/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i]).toUpperCase();if(!n)return null;if(/\bF(EMENINO)?\b/i.test(n))return"F";if(/\bM(ASCULINO)?\b/i.test(n))return"M";let e=n.match(/[MF]\b/);return e?e[0]:null}cap(t){return t&&t.toLowerCase().replace(/(^|\s)([a-záéíóúñ])/g,(n,e,o)=>e+o.toUpperCase())}pad2(t){return String(t).padStart(2,"0")}monthEsToNum(t){let n=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase();return{ENE:"01",ENERO:"01",FEB:"02",FEBRERO:"02",MAR:"03",MARZO:"03",ABR:"04",ABRIL:"04",MAY:"05",MAYO:"05",JUN:"06",JUNIO:"06",JUL:"07",JULIO:"07",AGO:"08",AGOSTO:"08",SEP:"09",SET:"09",SEPT:"09",SEPTIEMBRE:"09",OCT:"10",OCTUBRE:"10",NOV:"11",NOVIEMBRE:"11",DIC:"12",DICIEMBRE:"12"}[n]||null}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let n=this.normalizaRut(t);if(n.length<2)return!1;let e=n.slice(0,-1),o=n.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,i=2;for(let h=e.length-1;h>=0;h--)a+=parseInt(e[h],10)*i,i=i===7?2:i+1;let c=11-a%11,u=c===11?"0":c===10?"K":String(c);return o.toUpperCase()===u}};m.\u0275fac=function(n){return new(n||m)},m.\u0275prov=B({token:m,factory:m.\u0275fac,providedIn:"root"});let l=m;return l})();function xe(l,m){l&1&&(r(0,"ion-note",44),g(1," Mant\xE9n la c\xE9dula plana, con buena luz y sin reflejos. "),d())}function Ie(l,m){if(l&1&&(r(0,"ion-text")(1,"small"),g(2),d()()),l&2){let O=v();s(2),T((O.boletaFile==null?null:O.boletaFile.name)||"")}}function Se(l,m){l&1&&(r(0,"ion-note",45),g(1,"Este campo es obligatorio."),d())}function Oe(l,m){l&1&&(r(0,"ion-note",45),g(1,"Este campo es obligatorio."),d())}function Re(l,m){l&1&&(r(0,"ion-note",45),g(1,"Este campo es obligatorio."),d())}function Pe(l,m){l&1&&(r(0,"ion-note",45),g(1,"RUT inv\xE1lido."),d())}function Ne(l,m){l&1&&(r(0,"ion-note",45),g(1,"Campo obligatorio."),d())}function ve(l,m){l&1&&(r(0,"ion-note",45),g(1,"Formato inv\xE1lido (Chile)."),d())}function Te(l,m){l&1&&(r(0,"ion-note",45),g(1,"Campo obligatorio."),d())}function Ae(l,m){l&1&&(r(0,"ion-note",45),g(1,"Debe tener al menos 6 caracteres."),d())}function ke(l,m){if(l&1&&(r(0,"ion-text",46),g(1),d()),l&2){let O=v();s(),T(O.errorMsg)}}function Be(l,m){l&1&&_(0,"ion-spinner",47)}var Je=(()=>{let m=class m{constructor(t,n,e,o,a){this.router=t,this.toastCtrl=n,this.alertCtrl=e,this.auth=o,this.ocr=a,this.primer_nombre="",this.segundo_nombre="",this.primer_apellido="",this.segundo_apellido="",this.rut="",this.direccion="",this.telefono="",this.email="",this.password="",this.nombre="",this.fecha_nacimiento="",this.sexo="",this.loading=!1,this.errorMsg="",this.rutInvalido=!1,this.scanning=!1,this.boletaFile=null,this.boletaUrl=null}scanCedula(){return E(this,null,function*(){try{if(N.getPlatform()==="web"){let o=document.createElement("input");o.type="file",o.accept="image/*",o.onchange=a=>E(this,null,function*(){let i=a?.target?.files?.[0];if(!i)return;let c=URL.createObjectURL(i);try{let u=yield this.ocr.recognizeSmart(c);this.fillFromOcr(u),this.rut&&(this.rut=this.formatRutDisplay(this.rut)),this.rutInvalido=!this.validaRutDV(this.rut),this.nombre=this.buildNombre(),yield this.toast("Datos autocompletados desde imagen local \u2728")}catch(u){console.error("\u274C OCR (web) error:",u?.message||u),yield this.toast(u?.message||"No se pudo leer la imagen. Intenta otra.","warning")}finally{URL.revokeObjectURL(c)}}),o.click();return}this.scanning=!0;let t=yield ye.getPhoto({source:be.Prompt,resultType:_e.Uri,quality:85,allowEditing:!1,promptLabelPhoto:"Galer\xEDa",promptLabelPicture:"C\xE1mara"}),n=t?.path||t?.webPath;if(!n)throw new Error("No image");let e=yield this.ocr.recognizeSmart(n);this.fillFromOcr(e),this.rut&&(this.rut=this.formatRutDisplay(this.rut)),this.rutInvalido=!this.validaRutDV(this.rut),this.nombre=this.buildNombre(),yield this.toast("Datos autocompletados desde la c\xE9dula \u2728")}catch(t){console.error("\u274C OCR ML Kit error:",t?.message||t),yield this.toast(t?.message?`OCR fall\xF3: ${t.message}`:"No se pudo leer la c\xE9dula. Intenta con mejor luz/enfoque.","warning")}finally{this.scanning=!1}})}triggerBoleta(t){t&&t.click()}fillFromOcr(t){t.rut&&(this.rut=t.rut),t.primerNombre&&(this.primer_nombre=t.primerNombre),t.segundoNombre&&(this.segundo_nombre=t.segundoNombre??""),t.primerApellido&&(this.primer_apellido=t.primerApellido),t.segundoApellido&&(this.segundo_apellido=t.segundoApellido??""),t.fechaNacimiento&&(this.fecha_nacimiento=t.fechaNacimiento),t.sexo&&(this.sexo=t.sexo)}onBoletaPicked(t){let e=t.target.files?.[0]||null;this.boletaFile=e,this.boletaUrl=null}uploadBoleta(t){return E(this,null,function*(){try{if(!t.size)throw new Error("El archivo est\xE1 vac\xEDo.");if(t.size>50*1024*1024)throw new Error("El archivo supera 50MB.");let n="boletas",e=(this.email||"sin-email").replace(/[^a-z0-9@._-]/gi,"_").toLowerCase(),a=(t.name.split(".").pop()||"").toLowerCase()||(t.type?.includes("pdf")?"pdf":"jpg"),i=`boleta_${Date.now()}.${a}`,c=`${e}/${i}`,{error:u}=yield A.storage.from(n).upload(c,t,{upsert:!0,cacheControl:"3600",contentType:t.type||(a==="pdf"?"application/pdf":"image/jpeg")});if(u){let M=/permission|policy/i.test(u.message)?'Permiso denegado al subir. Revisa las pol\xEDticas del bucket "boletas".':/not found/i.test(u.message)?'Bucket "boletas" no encontrado.':u.message;throw new Error(M)}let{data:h}=A.storage.from(n).getPublicUrl(c);return h.publicUrl}catch(n){return console.error("Upload boleta error:",n?.message||n),yield this.toast(n?.message||"No se pudo subir la boleta. Intenta nuevamente.","danger"),null}})}toast(t,n="success"){return E(this,null,function*(){yield(yield this.toastCtrl.create({message:t,color:n,duration:2200,position:"top"})).present()})}buildNombre(){return[this.primer_nombre?.trim(),this.segundo_nombre?.trim(),this.primer_apellido?.trim(),this.segundo_apellido?.trim()].filter(Boolean).join(" ")}formatRutDisplay(t){if(!t)return t;let n=t.replace(/\s|\./g,"").toUpperCase(),e=n.match(/^(\d+)-?([0-9K])$/i);return e?`${e[1]}-${e[2].toUpperCase()}`:n}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let n=this.normalizaRut(t);if(n.length<2)return!1;let e=n.slice(0,-1),o=n.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,i=2;for(let h=e.length-1;h>=0;h--)a+=parseInt(e[h],10)*i,i=i===7?2:i+1;let c=11-a%11,u=c===11?"0":c===10?"K":String(c);return o.toUpperCase()===u}telefonoEsValido(){return/^(\+?56)?\s?9\d{8}$/.test((this.telefono||"").trim())}onRutBlur(){this.rutInvalido=!this.validaRutDV(this.rut)}showSuccessAlert(){return E(this,null,function*(){yield(yield this.alertCtrl.create({header:"\xA1Registro exitoso! \u{1F389}",subHeader:"Tu cuenta fue creada correctamente",message:"Ya puedes iniciar sesi\xF3n en RedBarrio \u{1F3E1}",buttons:[{text:"OK",handler:()=>this.router.navigateByUrl("/home",{replaceUrl:!0})}],backdropDismiss:!1,mode:"ios"})).present()})}register(t){return E(this,null,function*(){this.loading=!0,this.errorMsg="";try{if(this.rutInvalido=!this.validaRutDV(this.rut),this.rutInvalido||!this.telefonoEsValido()||!t.valid){yield this.toast("Revisa los campos obligatorios.","warning"),this.loading=!1;return}if(!this.boletaFile){yield this.toast("Debes subir una boleta de servicios para continuar.","warning"),this.loading=!1;return}let n=yield this.uploadBoleta(this.boletaFile);if(!n){this.loading=!1;return}this.boletaUrl=n,this.nombre=this.buildNombre();let e=yield this.auth.signUpFull({email:this.email.trim(),password:this.password,nombre:this.nombre,primer_nombre:this.primer_nombre||null,segundo_nombre:this.segundo_nombre||null,primer_apellido:this.primer_apellido||null,segundo_apellido:this.segundo_apellido||null,rut:this.rut||null,direccion:this.direccion||null,telefono:this.telefono||null,fecha_nacimiento:this.fecha_nacimiento||null,sexo:this.sexo||null,url_boleta_servicio:this.boletaUrl||null});typeof this.auth.signOut=="function"&&(yield this.auth.signOut()),e?.needsEmailConfirm?yield this.toast("Cuenta creada. Revisa tu correo para confirmar."):yield this.toast("Cuenta creada. Inicia sesi\xF3n para continuar."),yield this.router.navigateByUrl("/auth/login",{replaceUrl:!0})}catch(n){let e=n?.message||"No se pudo crear la cuenta.",o=/registered|exists|already/i.test(e)?"Este correo ya est\xE1 registrado.":e;this.errorMsg=o,yield this.toast(o,"danger")}finally{this.loading=!1}})}};m.\u0275fac=function(n){return new(n||m)(I(F),I(ge),I(ue),I(fe),I(we))},m.\u0275cmp=V({type:m,selectors:[["app-register"]],decls:74,vars:40,consts:[["inpBoleta",""],["f","ngForm"],["fullscreen","",1,"ion-padding"],[1,"wrap"],["color","primary"],["expand","block","fill","outline",3,"click","disabled"],["slot","start","name","scan-outline"],["color","medium","style","display:block;text-align:center;margin:6px 0 12px;",4,"ngIf"],[2,"margin-top","8px"],["type","file","accept","image/*,application/pdf","hidden","",3,"change"],[1,"boleta-uploader"],["expand","block","fill","outline","color","primary",1,"cta",3,"click","disabled"],["slot","start","name","cloud-upload-outline"],[4,"ngIf"],["color","medium",2,"display","block","margin-top","6px"],["autocomplete","on","novalidate","",3,"ngSubmit"],["lines","none"],["name","person-outline","slot","start","color","primary"],["name","primer_nombre","placeholder","Primer nombre","required","","enterkeyhint","next","autocomplete","given-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["color","danger",4,"ngIf"],["lines","none",2,"margin-top","8px"],["name","segundo_nombre","placeholder","Segundo nombre (opcional)","enterkeyhint","next","autocomplete","additional-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","primer_apellido","placeholder","Primer apellido","required","","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","segundo_apellido","placeholder","Segundo apellido (opcional)","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["lines","none",2,"margin-top","10px"],["name","card-outline","slot","start","color","primary"],["name","rut","placeholder","RUT (ej: 12.345.678-5)","required","","enterkeyhint","next","inputmode","text","maxlength","12","spellcheck","false",3,"ngModelChange","ionBlur","ngModel","disabled"],["name","calendar-outline","slot","start","color","primary"],["type","date","name","fecha_nacimiento","placeholder","Fecha de nacimiento","enterkeyhint","next",3,"ngModelChange","ngModel","disabled"],["name","male-female-outline","slot","start","color","primary"],["interface","popover","name","sexo","placeholder","Sexo",3,"ngModelChange","ngModel","disabled"],["value","M"],["value","F"],["name","home-outline","slot","start","color","primary"],["name","direccion","placeholder","Direcci\xF3n","enterkeyhint","next","autocomplete","street-address","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","call-outline","slot","start","color","primary"],["type","tel","name","telefono","placeholder","Tel\xE9fono (+56 9XXXXXXXX)","required","","enterkeyhint","next","inputmode","tel","autocomplete","tel-national","maxlength","14",3,"ngModelChange","ngModel","disabled"],["name","mail-outline","slot","start","color","primary"],["type","email","name","email","placeholder","Correo","required","","enterkeyhint","next","autocomplete","email","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","lock-closed-outline","slot","start","color","primary"],["type","password","name","password","placeholder","Contrase\xF1a (m\xEDnimo 6 caracteres)","required","","minlength","6","enterkeyhint","done","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],["color","danger","style","display:block;margin-top:8px;",4,"ngIf"],["type","submit","expand","block","size","large","color","primary",2,"margin-top","16px",3,"disabled"],["slot","start",4,"ngIf"],["color","medium",2,"display","block","text-align","center","margin","6px 0 12px"],["color","danger"],["color","danger",2,"display","block","margin-top","8px"],["slot","start"]],template:function(n,e){if(n&1){let o=U();r(0,"ion-content",2)(1,"div",3)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title",4),g(5,"Registro de vecino"),d(),r(6,"ion-card-subtitle"),g(7,"Completa tus datos"),d()(),r(8,"ion-card-content")(9,"ion-button",5),S("click",function(){return f(o),b(e.scanCedula())}),_(10,"ion-icon",6),g(11),d(),x(12,xe,2,0,"ion-note",7),_(13,"div",8),r(14,"input",9,0),S("change",function(i){return f(o),b(e.onBoletaPicked(i))}),d(),r(16,"div",10)(17,"ion-button",11),S("click",function(){f(o);let i=R(15);return b(e.triggerBoleta(i))}),_(18,"ion-icon",12),g(19),d(),x(20,Ie,3,1,"ion-text",13),d(),r(21,"ion-note",14),g(22," Formatos: JPG/PNG o PDF. Se subir\xE1 autom\xE1ticamente al registrarte. "),d(),r(23,"form",15,1),S("ngSubmit",function(){f(o);let i=R(24);return b(e.register(i))}),r(25,"ion-item",16),_(26,"ion-icon",17),r(27,"ion-input",18),C("ngModelChange",function(i){return f(o),w(e.primer_nombre,i)||(e.primer_nombre=i),b(i)}),d()(),x(28,Se,2,0,"ion-note",19),r(29,"ion-item",20),_(30,"ion-icon",17),r(31,"ion-input",21),C("ngModelChange",function(i){return f(o),w(e.segundo_nombre,i)||(e.segundo_nombre=i),b(i)}),d()(),r(32,"ion-item",20),_(33,"ion-icon",17),r(34,"ion-input",22),C("ngModelChange",function(i){return f(o),w(e.primer_apellido,i)||(e.primer_apellido=i),b(i)}),d()(),x(35,Oe,2,0,"ion-note",19),r(36,"ion-item",20),_(37,"ion-icon",17),r(38,"ion-input",23),C("ngModelChange",function(i){return f(o),w(e.segundo_apellido,i)||(e.segundo_apellido=i),b(i)}),d()(),r(39,"ion-item",24),_(40,"ion-icon",25),r(41,"ion-input",26),C("ngModelChange",function(i){return f(o),w(e.rut,i)||(e.rut=i),b(i)}),S("ionBlur",function(){return f(o),b(e.onRutBlur())}),d()(),x(42,Re,2,0,"ion-note",19)(43,Pe,2,0,"ion-note",19),r(44,"ion-item",24),_(45,"ion-icon",27),r(46,"ion-input",28),C("ngModelChange",function(i){return f(o),w(e.fecha_nacimiento,i)||(e.fecha_nacimiento=i),b(i)}),d()(),r(47,"ion-item",24),_(48,"ion-icon",29),r(49,"ion-select",30),C("ngModelChange",function(i){return f(o),w(e.sexo,i)||(e.sexo=i),b(i)}),r(50,"ion-select-option",31),g(51,"Masculino"),d(),r(52,"ion-select-option",32),g(53,"Femenino"),d()()(),r(54,"ion-item",24),_(55,"ion-icon",33),r(56,"ion-input",34),C("ngModelChange",function(i){return f(o),w(e.direccion,i)||(e.direccion=i),b(i)}),d()(),r(57,"ion-item",24),_(58,"ion-icon",35),r(59,"ion-input",36),C("ngModelChange",function(i){return f(o),w(e.telefono,i)||(e.telefono=i),b(i)}),d()(),x(60,Ne,2,0,"ion-note",19)(61,ve,2,0,"ion-note",19),r(62,"ion-item",24),_(63,"ion-icon",37),r(64,"ion-input",38),C("ngModelChange",function(i){return f(o),w(e.email,i)||(e.email=i),b(i)}),d()(),x(65,Te,2,0,"ion-note",19),r(66,"ion-item",24),_(67,"ion-icon",39),r(68,"ion-input",40),C("ngModelChange",function(i){return f(o),w(e.password,i)||(e.password=i),b(i)}),d()(),x(69,Ae,2,0,"ion-note",19)(70,ke,2,1,"ion-text",41),r(71,"ion-button",42),x(72,Be,1,0,"ion-spinner",43),g(73),d()()()()()()}if(n&2){let o=R(24);s(9),p("disabled",e.loading||e.scanning),s(2),P(" ",e.scanning?"Escaneando\u2026":"Escanear c\xE9dula "," "),s(),p("ngIf",e.scanning),s(5),p("disabled",e.loading),s(2),P(" ",e.boletaFile?"Cambiar boleta de servicios":"Subir boleta de servicios"," "),s(),p("ngIf",e.boletaFile),s(7),y("ngModel",e.primer_nombre),p("disabled",e.loading),s(),p("ngIf",o.submitted&&!e.primer_nombre),s(3),y("ngModel",e.segundo_nombre),p("disabled",e.loading),s(3),y("ngModel",e.primer_apellido),p("disabled",e.loading),s(),p("ngIf",o.submitted&&!e.primer_apellido),s(3),y("ngModel",e.segundo_apellido),p("disabled",e.loading),s(3),y("ngModel",e.rut),p("disabled",e.loading),s(),p("ngIf",o.submitted&&!e.rut),s(),p("ngIf",e.rut&&e.rutInvalido),s(3),y("ngModel",e.fecha_nacimiento),p("disabled",e.loading),s(3),y("ngModel",e.sexo),p("disabled",e.loading),s(7),y("ngModel",e.direccion),p("disabled",e.loading),s(3),y("ngModel",e.telefono),p("disabled",e.loading),s(),p("ngIf",o.submitted&&!e.telefono),s(),p("ngIf",e.telefono&&!e.telefonoEsValido()),s(3),y("ngModel",e.email),p("disabled",e.loading),s(),p("ngIf",o.submitted&&!e.email),s(3),y("ngModel",e.password),p("disabled",e.loading),s(),p("ngIf",o.submitted&&(!e.password||e.password.length<6)),s(),p("ngIf",e.errorMsg),s(),p("disabled",e.loading),s(),p("ngIf",e.loading),s(),P(" ",e.loading?"Creando\u2026":"Registrarme"," ")}},dependencies:[he,Q,$,ee,te,ie,ne,oe,re,ae,le,se,de,ce,pe,me,Y,Z,L,D,J,X,W,z,K,G,H,q,j],styles:['@charset "UTF-8";[_nghost-%COMP%]{--bg1: #f7fbff;--bg2: #e8f0ff;--card-bg: #ffffff}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%)}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-text-color);--border-color: transparent}.wrap[_ngcontent-%COMP%]{max-width:420px;margin:8vh auto 0}ion-card[_ngcontent-%COMP%]{border-radius:16px;background:var(--card-bg);box-shadow:0 10px 30px #2b58761f}ion-card-title[_ngcontent-%COMP%]{font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{margin-top:4px;opacity:.7}ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 12px;--inner-padding-end: 12px;--min-height: 54px;border:1px solid rgba(25,71,170,.15);border-radius:12px;margin-top:12px;transition:border-color .16s ease,box-shadow .16s ease}ion-item.item-has-focus[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px #3b82f626}ion-icon[slot=start][_ngcontent-%COMP%]{margin-right:6px;opacity:.9}ion-input[_ngcontent-%COMP%]{font-size:16px}ion-button.cta[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 6px 18px rgba(59, 130, 246, .35);margin-top:16px}.error[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-top:12px}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--bg1: #0b1220;--bg2: #0f1630;--card-bg: #141a2a}ion-card[_ngcontent-%COMP%]{box-shadow:0 14px 34px #00000073}ion-item[_ngcontent-%COMP%]{border-color:#ffffff14}  .custom-success-alert .alert-wrapper{background:#1e1e2a;border-radius:22px;padding:25px;text-align:center;max-width:320px;box-shadow:0 8px 30px #00000073}  .custom-success-alert .alert-title{color:#2dd36f;font-weight:800;font-size:1.4rem;margin-bottom:5px;letter-spacing:.3px}  .custom-success-alert .alert-sub-title{color:#e0e0e0;font-weight:500;margin-bottom:10px;font-size:1rem;opacity:.9}  .custom-success-alert .alert-message{color:#ccc;font-size:.95rem;line-height:1.4;margin-top:5px}  .custom-success-alert .ok-button{color:#2d8cf0!important;font-weight:700;font-size:1rem;text-transform:uppercase;letter-spacing:.4px}.boleta-uploader[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.boleta-uploader[_ngcontent-%COMP%]   .file-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.boleta-uploader[_ngcontent-%COMP%]   .mini[_ngcontent-%COMP%]{--border-radius: 12px;height:36px;--padding-start: 12px;--padding-end: 12px}.boleta-uploader[_ngcontent-%COMP%]   .ok-chip[_ngcontent-%COMP%]{align-self:flex-start;margin-top:2px}ion-button.cta[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 6px 18px rgba(59, 130, 246, .35)}}']});let l=m;return l})();export{Je as RegisterPage};
