import{a as we}from"./chunk-6C47DM3O.js";import{a as N,b as A,c as Ce,d as Ee}from"./chunk-SIZNMXVG.js";import"./chunk-3ODY6JMO.js";import{$ as K,A as T,Aa as re,Ba as ae,C,Ca as le,D as E,E as M,Fa as se,Ja as ce,Ka as de,La as pe,M as z,P as q,Sa as me,V as j,Wa as ue,Xa as ge,Ya as he,Za as fe,_ as X,aa as H,b as V,ca as G,da as J,e as _,eb as be,f as y,gb as _e,h as d,hb as ye,i as R,j as B,ja as Y,ka as Z,l as I,la as Q,m,n as s,na as $,o as p,p as w,s as D,sa as ee,t as v,ta as te,u as F,v as L,wa as ie,y as h,ya as ne,z as W,za as oe}from"./chunk-C6RY7PX2.js";import"./chunk-G4GOZ2R2.js";import"./chunk-3EH7DRQW.js";import"./chunk-QUJFQN2Y.js";import"./chunk-E24K4UEG.js";import"./chunk-LEIZBYT7.js";import"./chunk-UM2WNVGK.js";import"./chunk-PTM2QU7L.js";import"./chunk-Z7QLWI7J.js";import"./chunk-DNXVUVY2.js";import"./chunk-TVBC6MYV.js";import"./chunk-26CMJVF7.js";import"./chunk-QQBOPM2N.js";import"./chunk-IACAUHTZ.js";import"./chunk-6KZXCEZL.js";import"./chunk-C7E54FQN.js";import"./chunk-ATYZ3M5D.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-Z455EQLB.js";import"./chunk-CKP3SGE2.js";import"./chunk-CIXXGG5D.js";import{a as k,j as g}from"./chunk-VI73JOY6.js";var P=(function(l){return l.Prompt="PROMPT",l.Camera="CAMERA",l.Photos="PHOTOS",l})(P||{}),x=(function(l){return l.Rear="REAR",l.Front="FRONT",l})(x||{}),U=(function(l){return l.Uri="uri",l.Base64="base64",l.DataUrl="dataUrl",l})(U||{});var O=class extends Ee{getPhoto(r){return g(this,null,function*(){return new Promise((u,t)=>g(this,null,function*(){if(r.webUseInput||r.source===P.Photos)this.fileInputExperience(r,u,t);else if(r.source===P.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=r.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:r.promptLabelPhoto||"From Photos"},{title:r.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",e=>g(this,null,function*(){e.detail===0?this.fileInputExperience(r,u,t):this.cameraExperience(r,u,t)}))}else this.cameraExperience(r,u,t)}))})}pickImages(r){return g(this,null,function*(){return new Promise((u,t)=>g(this,null,function*(){this.multipleFileInputExperience(u,t)}))})}cameraExperience(r,u,t){return g(this,null,function*(){if(customElements.get("pwa-camera-modal")){let i=document.createElement("pwa-camera-modal");i.facingMode=r.direction===x.Front?"user":"environment",document.body.appendChild(i);try{yield i.componentOnReady(),i.addEventListener("onPhoto",e=>g(this,null,function*(){let o=e.detail;o===null?t(new N("User cancelled photos app")):o instanceof Error?t(o):u(yield this._getCameraPhoto(o,r)),i.dismiss(),document.body.removeChild(i)})),i.present()}catch{this.fileInputExperience(r,u,t)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(r,u,t)})}fileInputExperience(r,u,t){let i=document.querySelector("#_capacitor-camera-input"),e=()=>{var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",o=>{let a=i.files[0],n="jpeg";if(a.type==="image/png"?n="png":a.type==="image/gif"&&(n="gif"),r.resultType==="dataUrl"||r.resultType==="base64"){let c=new FileReader;c.addEventListener("load",()=>{if(r.resultType==="dataUrl")u({dataUrl:c.result,format:n});else if(r.resultType==="base64"){let b=c.result.split(",")[1];u({base64String:b,format:n})}e()}),c.readAsDataURL(a)}else u({webPath:URL.createObjectURL(a),format:n}),e()}),i.addEventListener("cancel",o=>{t(new N("User cancelled photos app")),e()})),i.accept="image/*",i.capture=!0,r.source===P.Photos||r.source===P.Prompt?i.removeAttribute("capture"):r.direction===x.Front?i.capture="user":r.direction===x.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(r,u){let t=document.querySelector("#_capacitor-camera-input-multiple"),i=()=>{var e;(e=t.parentNode)===null||e===void 0||e.removeChild(t)};t||(t=document.createElement("input"),t.id="_capacitor-camera-input-multiple",t.type="file",t.hidden=!0,t.multiple=!0,document.body.appendChild(t),t.addEventListener("change",e=>{let o=[];for(let a=0;a<t.files.length;a++){let n=t.files[a],c="jpeg";n.type==="image/png"?c="png":n.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(n),format:c})}r({photos:o}),i()}),t.addEventListener("cancel",e=>{u(new N("User cancelled photos app")),i()})),t.accept="image/*",t.click()}_getCameraPhoto(r,u){return new Promise((t,i)=>{let e=new FileReader,o=r.type.split("/")[1];u.resultType==="uri"?t({webPath:URL.createObjectURL(r),format:o,saved:!1}):(e.readAsDataURL(r),e.onloadend=()=>{let a=e.result;u.resultType==="dataUrl"?t({dataUrl:a,format:o,saved:!1}):t({base64String:a.split(",")[1],format:o,saved:!1})},e.onerror=a=>{i(a)})})}checkPermissions(){return g(this,null,function*(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}})}requestPermissions(){return g(this,null,function*(){throw this.unimplemented("Not implemented on web.")})}pickLimitedLibraryPhotos(){return g(this,null,function*(){throw this.unavailable("Not implemented on web.")})}getLimitedLibraryPhotos(){return g(this,null,function*(){throw this.unavailable("Not implemented on web.")})}},ze=new O;var Me=Ce("Camera",{web:()=>new O});var Ie=(()=>{let r=class r{recognizeSmart(t){return g(this,null,function*(){let i=yield this.readText(t),e=this.parseCedula(i);return k({raw:i},e)})}readText(t){return g(this,null,function*(){if(A.getPlatform()==="web")return"";let{Ocr:i}=yield import("./chunk-MCADTTGL.js"),{results:e}=yield i.process({image:t});return(e||[]).map(a=>a.text).filter(Boolean).join(`
`).trim()})}parseCedula(t){let i=(t||"").replace(/[^\S\r\n]+/g," ").replace(/\s+\n/g,`
`).replace(/\n{2,}/g,`
`).trim(),e=this.extractRun(i),o=this.extractBetween(i,/APELLIDOS?/i,[/NOMBRES?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),a=this.extractBetween(i,/NOMBRES?/i,[/APELLIDOS?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),{primerApellido:n,segundoApellido:c}=this.splitApellidos(o),{primerNombre:b,segundoNombre:f}=this.splitNombres(a),S=this.extractFechaNacimiento(i),Se=this.extractSexo(i);return{rut:e,primerNombre:b||null,segundoNombre:f||null,primerApellido:n||null,segundoApellido:c||null,fechaNacimiento:S||null,sexo:Se||null}}extractRun(t){let i=/RUN[^0-9Kk]*([\d\. ]{6,}\s*[-–—]?\s*[0-9Kk])/i,e=/\b(\d{1,3}(?:[.\s]?\d{3}){1,2}|\d{7,8})\s*[-–—]?\s*([0-9Kk])\b/,o=t.match(i);if(o||(o=t.match(e)),!o)return null;let c=(o[1]||(o[0]??"")).replace(/\s|\./g,"").toUpperCase().replace(/–|—/g,"-").match(/^(\d+)-?([0-9K])$/i);if(!c)return null;let b=c[1],f=c[2].toUpperCase(),S=`${b}-${f}`;return this.validaRutDV(S)?S:null}extractBetween(t,i,e){let o=t.match(i);if(!o)return"";let a=t.indexOf(o[0])+o[0].length,n=t.slice(a),c=n.length;for(let f of e){let S=n.search(f);S!==-1&&S<c&&(c=S)}return n.slice(0,c).replace(/\n/g," ").replace(/[,:;]/g," ").replace(/\s{2,}/g," ").trim().replace(/^APELLIDOS?\s+/i,"").replace(/^NOMBRES?\s+/i,"").toUpperCase()}splitApellidos(t){let i=t.split(/\s+/).filter(Boolean),e="",o="";return i.length>=2?[e,o]=[i[0],i[1]]:i.length===1&&(e=i[0]),{primerApellido:this.cap(e),segundoApellido:this.cap(o)}}splitNombres(t){let i=t.split(/\s+/).filter(Boolean),e="",o="";return i.length>=2?[e,o]=[i[0],i[1]]:i.length===1&&(e=i[0]),{primerNombre:this.cap(e),segundoNombre:this.cap(o)}}extractFechaNacimiento(t){let e=this.extractBetween(t,/(F\.?\s*NAC\.?|FECHA\s+DE\s+NACIMIENTO|NACIMIENTO)/i,[/SEXO/i,/NACIONALIDAD/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i])||t,o=/\b(\d{1,2})\s+([A-ZÁÉÍÓÚÑ]{3,})\s+(\d{4})\b/i,a=e.match(o);if(a){let c=this.pad2(+a[1]),b=this.monthEsToNum(a[2]),f=a[3];if(b)return`${f}-${b}-${c}`}let n=e.match(/\b(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})\b/);if(n){let c=this.pad2(+n[1]),b=this.pad2(+n[2]);return`${n[3]}-${b}-${c}`}return null}extractSexo(t){let i=this.extractBetween(t,/SEXO/i,[/NACIONALIDAD/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i]).toUpperCase();if(!i)return null;if(/\bF(EMENINO)?\b/i.test(i))return"F";if(/\bM(ASCULINO)?\b/i.test(i))return"M";let e=i.match(/[MF]\b/);return e?e[0]:null}cap(t){return t&&t.toLowerCase().replace(/(^|\s)([a-záéíóúñ])/g,(i,e,o)=>e+o.toUpperCase())}pad2(t){return String(t).padStart(2,"0")}monthEsToNum(t){let i=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase();return{ENE:"01",ENERO:"01",FEB:"02",FEBRERO:"02",MAR:"03",MARZO:"03",ABR:"04",ABRIL:"04",MAY:"05",MAYO:"05",JUN:"06",JUNIO:"06",JUL:"07",JULIO:"07",AGO:"08",AGOSTO:"08",SEP:"09",SET:"09",SEPT:"09",SEPTIEMBRE:"09",OCT:"10",OCTUBRE:"10",NOV:"11",NOVIEMBRE:"11",DIC:"12",DICIEMBRE:"12"}[i]||null}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let i=this.normalizaRut(t);if(i.length<2)return!1;let e=i.slice(0,-1),o=i.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,n=2;for(let f=e.length-1;f>=0;f--)a+=parseInt(e[f],10)*n,n=n===7?2:n+1;let c=11-a%11,b=c===11?"0":c===10?"K":String(c);return o.toUpperCase()===b}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"});let l=r;return l})();function xe(l,r){l&1&&(s(0,"ion-note",36),h(1," Mant\xE9n la c\xE9dula plana, con buena luz y sin reflejos. "),p())}function Oe(l,r){l&1&&(s(0,"ion-note",37),h(1,"Este campo es obligatorio."),p())}function ve(l,r){l&1&&(s(0,"ion-note",37),h(1,"Este campo es obligatorio."),p())}function Ne(l,r){l&1&&(s(0,"ion-note",37),h(1,"Este campo es obligatorio."),p())}function Ae(l,r){l&1&&(s(0,"ion-note",37),h(1,"RUT inv\xE1lido."),p())}function Le(l,r){l&1&&(s(0,"ion-note",37),h(1,"Campo obligatorio."),p())}function Te(l,r){l&1&&(s(0,"ion-note",37),h(1,"Formato inv\xE1lido (Chile)."),p())}function Ue(l,r){l&1&&(s(0,"ion-note",37),h(1,"Campo obligatorio."),p())}function ke(l,r){l&1&&(s(0,"ion-note",37),h(1,"Debe tener al menos 6 caracteres."),p())}function Ve(l,r){if(l&1&&(s(0,"ion-text",38),h(1),p()),l&2){let u=F();d(),W(u.errorMsg)}}function Be(l,r){l&1&&w(0,"ion-spinner",39)}var lt=(()=>{let r=class r{constructor(t,i,e,o,a){this.router=t,this.toastCtrl=i,this.alertCtrl=e,this.auth=o,this.ocr=a,this.primer_nombre="",this.segundo_nombre="",this.primer_apellido="",this.segundo_apellido="",this.rut="",this.direccion="",this.telefono="",this.email="",this.password="",this.nombre="",this.fecha_nacimiento="",this.sexo="",this.loading=!1,this.errorMsg="",this.rutInvalido=!1,this.scanning=!1}scanCedula(){return g(this,null,function*(){try{if(A.getPlatform()==="web"){yield this.toast("El escaneo funciona en dispositivo (Android/iOS).","warning");return}this.scanning=!0;let t=yield Me.getPhoto({source:P.Prompt,resultType:U.Uri,quality:85,allowEditing:!1,promptLabelPhoto:"Galer\xEDa",promptLabelPicture:"C\xE1mara"}),i=t?.path||t?.webPath;if(!i)throw new Error("No image");let e=yield this.ocr.recognizeSmart(i);this.fillFromOcr(e),this.rut&&(this.rut=this.formatRutDisplay(this.rut)),this.rutInvalido=!this.validaRutDV(this.rut),this.nombre=this.buildNombre(),yield this.toast("Datos autocompletados desde la c\xE9dula \u2728")}catch(t){console.error("\u274C OCR ML Kit error:",t?.message||t),yield this.toast(t?.message?`OCR fall\xF3: ${t.message}`:"No se pudo leer la c\xE9dula. Intenta con mejor luz/enfoque.","warning")}finally{this.scanning=!1}})}fillFromOcr(t){t.rut&&(this.rut=t.rut),t.primerNombre&&(this.primer_nombre=t.primerNombre),t.segundoNombre&&(this.segundo_nombre=t.segundoNombre??""),t.primerApellido&&(this.primer_apellido=t.primerApellido),t.segundoApellido&&(this.segundo_apellido=t.segundoApellido??""),t.fechaNacimiento&&(this.fecha_nacimiento=t.fechaNacimiento),t.sexo&&(this.sexo=t.sexo)}toast(t,i="success"){return g(this,null,function*(){yield(yield this.toastCtrl.create({message:t,color:i,duration:2200,position:"top"})).present()})}buildNombre(){return[this.primer_nombre?.trim(),this.segundo_nombre?.trim(),this.primer_apellido?.trim(),this.segundo_apellido?.trim()].filter(Boolean).join(" ")}formatRutDisplay(t){if(!t)return t;let i=t.replace(/\s|\./g,"").toUpperCase(),e=i.match(/^(\d+)-?([0-9K])$/i);return e?`${e[1]}-${e[2].toUpperCase()}`:i}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let i=this.normalizaRut(t);if(i.length<2)return!1;let e=i.slice(0,-1),o=i.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,n=2;for(let f=e.length-1;f>=0;f--)a+=parseInt(e[f],10)*n,n=n===7?2:n+1;let c=11-a%11,b=c===11?"0":c===10?"K":String(c);return o.toUpperCase()===b}telefonoEsValido(){return/^(\+?56)?\s?9\d{8}$/.test((this.telefono||"").trim())}onRutBlur(){this.rutInvalido=!this.validaRutDV(this.rut)}showSuccessAlert(){return g(this,null,function*(){yield(yield this.alertCtrl.create({header:"\xA1Registro exitoso! \u{1F389}",subHeader:"Tu cuenta fue creada correctamente",message:"Ya puedes iniciar sesi\xF3n en RedBarrio \u{1F3E1}",buttons:[{text:"OK",handler:()=>this.router.navigateByUrl("/home",{replaceUrl:!0})}],backdropDismiss:!1,mode:"ios"})).present()})}register(t){return g(this,null,function*(){this.loading=!0,this.errorMsg="";try{if(this.rutInvalido=!this.validaRutDV(this.rut),this.rutInvalido||!this.telefonoEsValido()||!t.valid){yield this.toast("Revisa los campos obligatorios.","warning"),this.loading=!1;return}this.nombre=this.buildNombre();let i=yield this.auth.signUpFull({email:this.email.trim(),password:this.password,nombre:this.nombre,primer_nombre:this.primer_nombre||null,segundo_nombre:this.segundo_nombre||null,primer_apellido:this.primer_apellido||null,segundo_apellido:this.segundo_apellido||null,rut:this.rut||null,direccion:this.direccion||null,telefono:this.telefono||null,fecha_nacimiento:this.fecha_nacimiento||null,sexo:this.sexo||null});typeof this.auth.signOut=="function"&&(yield this.auth.signOut()),i?.needsEmailConfirm?yield this.toast("Cuenta creada. Revisa tu correo para confirmar."):yield this.toast("Cuenta creada. Inicia sesi\xF3n para continuar."),yield this.router.navigateByUrl("/auth/login",{replaceUrl:!0})}catch(i){let e=i?.message||"No se pudo crear la cuenta.",o=/registered|exists|already/i.test(e)?"Este correo ya est\xE1 registrado.":e;this.errorMsg=o,yield this.toast(o,"danger")}finally{this.loading=!1}})}};r.\u0275fac=function(i){return new(i||r)(R(j),R(_e),R(be),R(we),R(Ie))},r.\u0275cmp=B({type:r,selectors:[["app-register"]],decls:64,vars:37,consts:[["f","ngForm"],["fullscreen","",1,"ion-padding"],[1,"wrap"],["color","primary"],["expand","block","fill","outline",3,"click","disabled"],["slot","start","name","scan-outline"],["color","medium","style","display:block;text-align:center;margin:6px 0 12px;",4,"ngIf"],["autocomplete","on","novalidate","",3,"ngSubmit"],["lines","none"],["name","person-outline","slot","start","color","primary"],["name","primer_nombre","placeholder","Primer nombre","required","","enterkeyhint","next","autocomplete","given-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["color","danger",4,"ngIf"],["lines","none",2,"margin-top","8px"],["name","segundo_nombre","placeholder","Segundo nombre (opcional)","enterkeyhint","next","autocomplete","additional-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","primer_apellido","placeholder","Primer apellido","required","","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","segundo_apellido","placeholder","Segundo apellido (opcional)","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["lines","none",2,"margin-top","10px"],["name","card-outline","slot","start","color","primary"],["name","rut","placeholder","RUT (ej: 12.345.678-5)","required","","enterkeyhint","next","inputmode","text","maxlength","12","spellcheck","false",3,"ngModelChange","ionBlur","ngModel","disabled"],["name","calendar-outline","slot","start","color","primary"],["type","date","name","fecha_nacimiento","placeholder","Fecha de nacimiento","enterkeyhint","next",3,"ngModelChange","ngModel","disabled"],["name","male-female-outline","slot","start","color","primary"],["interface","popover","name","sexo","placeholder","Sexo",3,"ngModelChange","ngModel","disabled"],["value","M"],["value","F"],["name","home-outline","slot","start","color","primary"],["name","direccion","placeholder","Direcci\xF3n","enterkeyhint","next","autocomplete","street-address","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","call-outline","slot","start","color","primary"],["type","tel","name","telefono","placeholder","Tel\xE9fono (+56 9XXXXXXXX)","required","","enterkeyhint","next","inputmode","tel","autocomplete","tel-national","maxlength","14",3,"ngModelChange","ngModel","disabled"],["name","mail-outline","slot","start","color","primary"],["type","email","name","email","placeholder","Correo","required","","enterkeyhint","next","autocomplete","email","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","lock-closed-outline","slot","start","color","primary"],["type","password","name","password","placeholder","Contrase\xF1a (m\xEDnimo 6 caracteres)","required","","minlength","6","enterkeyhint","done","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],["color","danger","style","display:block;margin-top:8px;",4,"ngIf"],["type","submit","expand","block","size","large","color","primary",2,"margin-top","16px",3,"disabled"],["slot","start",4,"ngIf"],["color","medium",2,"display","block","text-align","center","margin","6px 0 12px"],["color","danger"],["color","danger",2,"display","block","margin-top","8px"],["slot","start"]],template:function(i,e){if(i&1){let o=D();s(0,"ion-content",1)(1,"div",2)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title",3),h(5,"Registro de vecino"),p(),s(6,"ion-card-subtitle"),h(7,"Completa tus datos"),p()(),s(8,"ion-card-content")(9,"ion-button",4),v("click",function(){return _(o),y(e.scanCedula())}),w(10,"ion-icon",5),h(11),p(),I(12,xe,2,0,"ion-note",6),s(13,"form",7,0),v("ngSubmit",function(){_(o);let n=L(14);return y(e.register(n))}),s(15,"ion-item",8),w(16,"ion-icon",9),s(17,"ion-input",10),M("ngModelChange",function(n){return _(o),E(e.primer_nombre,n)||(e.primer_nombre=n),y(n)}),p()(),I(18,Oe,2,0,"ion-note",11),s(19,"ion-item",12),w(20,"ion-icon",9),s(21,"ion-input",13),M("ngModelChange",function(n){return _(o),E(e.segundo_nombre,n)||(e.segundo_nombre=n),y(n)}),p()(),s(22,"ion-item",12),w(23,"ion-icon",9),s(24,"ion-input",14),M("ngModelChange",function(n){return _(o),E(e.primer_apellido,n)||(e.primer_apellido=n),y(n)}),p()(),I(25,ve,2,0,"ion-note",11),s(26,"ion-item",12),w(27,"ion-icon",9),s(28,"ion-input",15),M("ngModelChange",function(n){return _(o),E(e.segundo_apellido,n)||(e.segundo_apellido=n),y(n)}),p()(),s(29,"ion-item",16),w(30,"ion-icon",17),s(31,"ion-input",18),M("ngModelChange",function(n){return _(o),E(e.rut,n)||(e.rut=n),y(n)}),v("ionBlur",function(){return _(o),y(e.onRutBlur())}),p()(),I(32,Ne,2,0,"ion-note",11)(33,Ae,2,0,"ion-note",11),s(34,"ion-item",16),w(35,"ion-icon",19),s(36,"ion-input",20),M("ngModelChange",function(n){return _(o),E(e.fecha_nacimiento,n)||(e.fecha_nacimiento=n),y(n)}),p()(),s(37,"ion-item",16),w(38,"ion-icon",21),s(39,"ion-select",22),M("ngModelChange",function(n){return _(o),E(e.sexo,n)||(e.sexo=n),y(n)}),s(40,"ion-select-option",23),h(41,"Masculino"),p(),s(42,"ion-select-option",24),h(43,"Femenino"),p()()(),s(44,"ion-item",16),w(45,"ion-icon",25),s(46,"ion-input",26),M("ngModelChange",function(n){return _(o),E(e.direccion,n)||(e.direccion=n),y(n)}),p()(),s(47,"ion-item",16),w(48,"ion-icon",27),s(49,"ion-input",28),M("ngModelChange",function(n){return _(o),E(e.telefono,n)||(e.telefono=n),y(n)}),p()(),I(50,Le,2,0,"ion-note",11)(51,Te,2,0,"ion-note",11),s(52,"ion-item",16),w(53,"ion-icon",29),s(54,"ion-input",30),M("ngModelChange",function(n){return _(o),E(e.email,n)||(e.email=n),y(n)}),p()(),I(55,Ue,2,0,"ion-note",11),s(56,"ion-item",16),w(57,"ion-icon",31),s(58,"ion-input",32),M("ngModelChange",function(n){return _(o),E(e.password,n)||(e.password=n),y(n)}),p()(),I(59,ke,2,0,"ion-note",11)(60,Ve,2,1,"ion-text",33),s(61,"ion-button",34),I(62,Be,1,0,"ion-spinner",35),h(63),p()()()()()()}if(i&2){let o=L(14);d(9),m("disabled",e.loading||e.scanning),d(2),T(" ",e.scanning?"Escaneando\u2026":"Escanear c\xE9dula "," "),d(),m("ngIf",e.scanning),d(5),C("ngModel",e.primer_nombre),m("disabled",e.loading),d(),m("ngIf",o.submitted&&!e.primer_nombre),d(3),C("ngModel",e.segundo_nombre),m("disabled",e.loading),d(3),C("ngModel",e.primer_apellido),m("disabled",e.loading),d(),m("ngIf",o.submitted&&!e.primer_apellido),d(3),C("ngModel",e.segundo_apellido),m("disabled",e.loading),d(3),C("ngModel",e.rut),m("disabled",e.loading),d(),m("ngIf",o.submitted&&!e.rut),d(),m("ngIf",e.rut&&e.rutInvalido),d(3),C("ngModel",e.fecha_nacimiento),m("disabled",e.loading),d(3),C("ngModel",e.sexo),m("disabled",e.loading),d(7),C("ngModel",e.direccion),m("disabled",e.loading),d(3),C("ngModel",e.telefono),m("disabled",e.loading),d(),m("ngIf",o.submitted&&!e.telefono),d(),m("ngIf",e.telefono&&!e.telefonoEsValido()),d(3),C("ngModel",e.email),m("disabled",e.loading),d(),m("ngIf",o.submitted&&!e.email),d(3),C("ngModel",e.password),m("disabled",e.loading),d(),m("ngIf",o.submitted&&(!e.password||e.password.length<6)),d(),m("ngIf",e.errorMsg),d(),m("disabled",e.loading),d(),m("ngIf",e.loading),d(),T(" ",e.loading?"Creando\u2026":"Registrarme"," ")}},dependencies:[ye,ie,ne,oe,re,ae,le,se,ce,de,pe,me,ue,ge,he,fe,ee,te,q,z,$,J,X,K,Y,Z,Q,G,H],styles:['@charset "UTF-8";[_nghost-%COMP%]{--bg1: #f7fbff;--bg2: #e8f0ff;--card-bg: #ffffff}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%)}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-text-color);--border-color: transparent}.wrap[_ngcontent-%COMP%]{max-width:420px;margin:8vh auto 0}ion-card[_ngcontent-%COMP%]{border-radius:16px;background:var(--card-bg);box-shadow:0 10px 30px #2b58761f}ion-card-title[_ngcontent-%COMP%]{font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{margin-top:4px;opacity:.7}ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 12px;--inner-padding-end: 12px;--min-height: 54px;border:1px solid rgba(25,71,170,.15);border-radius:12px;margin-top:12px;transition:border-color .16s ease,box-shadow .16s ease}ion-item.item-has-focus[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px #3b82f626}ion-icon[slot=start][_ngcontent-%COMP%]{margin-right:6px;opacity:.9}ion-input[_ngcontent-%COMP%]{font-size:16px}ion-button.cta[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 6px 18px rgba(59, 130, 246, .35);margin-top:16px}.error[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-top:12px}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--bg1: #0b1220;--bg2: #0f1630;--card-bg: #141a2a}ion-card[_ngcontent-%COMP%]{box-shadow:0 14px 34px #00000073}ion-item[_ngcontent-%COMP%]{border-color:#ffffff14}  .custom-success-alert .alert-wrapper{background:#1e1e2a;border-radius:22px;padding:25px;text-align:center;max-width:320px;box-shadow:0 8px 30px #00000073}  .custom-success-alert .alert-title{color:#2dd36f;font-weight:800;font-size:1.4rem;margin-bottom:5px;letter-spacing:.3px}  .custom-success-alert .alert-sub-title{color:#e0e0e0;font-weight:500;margin-bottom:10px;font-size:1rem;opacity:.9}  .custom-success-alert .alert-message{color:#ccc;font-size:.95rem;line-height:1.4;margin-top:5px}  .custom-success-alert .ok-button{color:#2d8cf0!important;font-weight:700;font-size:1rem;text-transform:uppercase;letter-spacing:.4px}}']});let l=r;return l})();export{lt as RegisterPage};
