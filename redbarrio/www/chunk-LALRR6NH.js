import{a as ye,b as we,c as Ce}from"./chunk-IIFLUBAB.js";import{a as be}from"./chunk-DSYC522I.js";import{b as v}from"./chunk-SIZNMXVG.js";import{a as k}from"./chunk-BSJEIMOO.js";import"./chunk-CGH6KSUE.js";import{$a as ce,A as B,B as O,D as y,Da as Q,E as w,F as C,Fa as $,Ga as ee,Ha as te,Ia as ie,Ja as ne,Ka as oe,Ma as re,O as F,R as D,Ra as ae,Ta as le,Ua as se,Va as de,Z as L,c as V,ca as W,da as z,f as g,fa as j,fb as pe,g as h,gb as me,ha as q,hb as ue,i as s,ia as X,ib as ge,j as R,k as U,m as M,n as c,o as r,oa as K,p as d,pa as H,q as f,qa as G,qb as he,sa as J,t as T,tb as fe,u as x,ub as _e,v as P,w as N,xa as Y,ya as Z,z as u}from"./chunk-JZTRD5FY.js";import"./chunk-G4GOZ2R2.js";import"./chunk-2GHFZAQB.js";import"./chunk-QUJFQN2Y.js";import"./chunk-VBARJE22.js";import"./chunk-6T3MRKSY.js";import"./chunk-LG5HFCS7.js";import"./chunk-PTM2QU7L.js";import"./chunk-Z7QLWI7J.js";import"./chunk-DNXVUVY2.js";import"./chunk-JS56SECH.js";import"./chunk-GFYYGWWH.js";import"./chunk-EXVGCGBZ.js";import"./chunk-IACAUHTZ.js";import"./chunk-WIVIOYVM.js";import"./chunk-ULQSOQCK.js";import"./chunk-JOPIHTUJ.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-EKNMT7ZB.js";import"./chunk-CKP3SGE2.js";import"./chunk-K6CL52MX.js";import{a as A,j as S}from"./chunk-VI73JOY6.js";var Me=(()=>{let p=class p{recognizeSmart(t){return S(this,null,function*(){let n=yield this.readText(t),e=this.parseCedula(n);return A({raw:n},e)})}readText(t){return S(this,null,function*(){if(v.getPlatform()==="web")return"";let{Ocr:n}=yield import("./chunk-MCADTTGL.js"),{results:e}=yield n.process({image:t});return(e||[]).map(a=>a.text).filter(Boolean).join(`
`).trim()})}parseCedula(t){let n=(t||"").replace(/[^\S\r\n]+/g," ").replace(/\s+\n/g,`
`).replace(/\n{2,}/g,`
`).trim(),e=this.extractRun(n),o=this.extractBetween(n,/APELLIDOS?/i,[/NOMBRES?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),a=this.extractBetween(n,/NOMBRES?/i,[/APELLIDOS?/i,/NACIONALIDAD/i,/SEXO/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/DOMICILIO/i]),{primerApellido:i,segundoApellido:m}=this.splitApellidos(o),{primerNombre:b,segundoNombre:_}=this.splitNombres(a),I=this.extractFechaNacimiento(n),Ee=this.extractSexo(n);return{rut:e,primerNombre:b||null,segundoNombre:_||null,primerApellido:i||null,segundoApellido:m||null,fechaNacimiento:I||null,sexo:Ee||null}}extractRun(t){let n=/RUN[^0-9Kk]*([\d\. ]{6,}\s*[-–—]?\s*[0-9Kk])/i,e=/\b(\d{1,3}(?:[.\s]?\d{3}){1,2}|\d{7,8})\s*[-–—]?\s*([0-9Kk])\b/,o=t.match(n);if(o||(o=t.match(e)),!o)return null;let m=(o[1]||(o[0]??"")).replace(/\s|\./g,"").toUpperCase().replace(/–|—/g,"-").match(/^(\d+)-?([0-9K])$/i);if(!m)return null;let b=m[1],_=m[2].toUpperCase(),I=`${b}-${_}`;return this.validaRutDV(I)?I:null}extractBetween(t,n,e){let o=t.match(n);if(!o)return"";let a=t.indexOf(o[0])+o[0].length,i=t.slice(a),m=i.length;for(let _ of e){let I=i.search(_);I!==-1&&I<m&&(m=I)}return i.slice(0,m).replace(/\n/g," ").replace(/[,:;]/g," ").replace(/\s{2,}/g," ").trim().replace(/^APELLIDOS?\s+/i,"").replace(/^NOMBRES?\s+/i,"").toUpperCase()}splitApellidos(t){let n=t.split(/\s+/).filter(Boolean),e="",o="";return n.length>=2?[e,o]=[n[0],n[1]]:n.length===1&&(e=n[0]),{primerApellido:this.cap(e),segundoApellido:this.cap(o)}}splitNombres(t){let n=t.split(/\s+/).filter(Boolean),e="",o="";return n.length>=2?[e,o]=[n[0],n[1]]:n.length===1&&(e=n[0]),{primerNombre:this.cap(e),segundoNombre:this.cap(o)}}extractFechaNacimiento(t){let e=this.extractBetween(t,/(F\.?\s*NAC\.?|FECHA\s+DE\s+NACIMIENTO|NACIMIENTO)/i,[/SEXO/i,/NACIONALIDAD/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i])||t,o=/\b(\d{1,2})\s+([A-ZÁÉÍÓÚÑ]{3,})\s+(\d{4})\b/i,a=e.match(o);if(a){let m=this.pad2(+a[1]),b=this.monthEsToNum(a[2]),_=a[3];if(b)return`${_}-${b}-${m}`}let i=e.match(/\b(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})\b/);if(i){let m=this.pad2(+i[1]),b=this.pad2(+i[2]);return`${i[3]}-${b}-${m}`}return null}extractSexo(t){let n=this.extractBetween(t,/SEXO/i,[/NACIONALIDAD/i,/F\.?\s*NAC/i,/FECHA/i,/DOCUMENTO/i,/NUMERO/i,/APELLIDOS?/i,/NOMBRES?/i,/DOMICILIO/i]).toUpperCase();if(!n)return null;if(/\bF(EMENINO)?\b/i.test(n))return"F";if(/\bM(ASCULINO)?\b/i.test(n))return"M";let e=n.match(/[MF]\b/);return e?e[0]:null}cap(t){return t&&t.toLowerCase().replace(/(^|\s)([a-záéíóúñ])/g,(n,e,o)=>e+o.toUpperCase())}pad2(t){return String(t).padStart(2,"0")}monthEsToNum(t){let n=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase();return{ENE:"01",ENERO:"01",FEB:"02",FEBRERO:"02",MAR:"03",MARZO:"03",ABR:"04",ABRIL:"04",MAY:"05",MAYO:"05",JUN:"06",JUNIO:"06",JUL:"07",JULIO:"07",AGO:"08",AGOSTO:"08",SEP:"09",SET:"09",SEPT:"09",SEPTIEMBRE:"09",OCT:"10",OCTUBRE:"10",NOV:"11",NOVIEMBRE:"11",DIC:"12",DICIEMBRE:"12"}[n]||null}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let n=this.normalizaRut(t);if(n.length<2)return!1;let e=n.slice(0,-1),o=n.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,i=2;for(let _=e.length-1;_>=0;_--)a+=parseInt(e[_],10)*i,i=i===7?2:i+1;let m=11-a%11,b=m===11?"0":m===10?"K":String(m);return o.toUpperCase()===b}};p.\u0275fac=function(n){return new(n||p)},p.\u0275prov=V({token:p,factory:p.\u0275fac,providedIn:"root"});let l=p;return l})();function xe(l,p){l&1&&(r(0,"ion-note",46),u(1," Mant\xE9n la c\xE9dula plana, con buena luz y sin reflejos. "),d())}function Re(l,p){if(l&1&&(r(0,"ion-text")(1,"small"),u(2),d()()),l&2){let E=P();s(2),B((E.boletaFile==null?null:E.boletaFile.name)||"")}}function Pe(l,p){l&1&&(r(0,"ion-chip",47),f(1,"ion-icon",48),r(2,"ion-label"),u(3,"Boleta subida"),d()())}function Oe(l,p){if(l&1){let E=T();r(0,"ion-button",49),x("click",function(){g(E);let n=P();return h(n.subirBoletaSiHaceFalta())}),u(1," Confirmar subida "),d()}if(l&2){let E=P();c("disabled",E.uploadingBoleta||E.loading)}}function Ne(l,p){l&1&&(r(0,"ion-note",50),u(1,"Este campo es obligatorio."),d())}function ve(l,p){l&1&&(r(0,"ion-note",50),u(1,"Este campo es obligatorio."),d())}function Te(l,p){l&1&&(r(0,"ion-note",50),u(1,"Este campo es obligatorio."),d())}function Be(l,p){l&1&&(r(0,"ion-note",50),u(1,"RUT inv\xE1lido."),d())}function ke(l,p){l&1&&(r(0,"ion-note",50),u(1,"Campo obligatorio."),d())}function Ae(l,p){l&1&&(r(0,"ion-note",50),u(1,"Formato inv\xE1lido (Chile)."),d())}function Ve(l,p){l&1&&(r(0,"ion-note",50),u(1,"Campo obligatorio."),d())}function Ue(l,p){l&1&&(r(0,"ion-note",50),u(1,"Debe tener al menos 6 caracteres."),d())}function Fe(l,p){if(l&1&&(r(0,"ion-text",51),u(1),d()),l&2){let E=P();s(),B(E.errorMsg)}}function De(l,p){l&1&&f(0,"ion-spinner",52)}var $e=(()=>{let p=class p{constructor(t,n,e,o,a){this.router=t,this.toastCtrl=n,this.alertCtrl=e,this.auth=o,this.ocr=a,this.primer_nombre="",this.segundo_nombre="",this.primer_apellido="",this.segundo_apellido="",this.rut="",this.direccion="",this.telefono="",this.email="",this.password="",this.nombre="",this.fecha_nacimiento="",this.sexo="",this.loading=!1,this.errorMsg="",this.rutInvalido=!1,this.scanning=!1,this.boletaFile=null,this.boletaUrl=null,this.uploadingBoleta=!1}scanCedula(){return S(this,null,function*(){try{if(v.getPlatform()==="web"){yield this.toast("El escaneo funciona en dispositivo (Android/iOS).","warning");return}this.scanning=!0;let t=yield Ce.getPhoto({source:ye.Prompt,resultType:we.Uri,quality:85,allowEditing:!1,promptLabelPhoto:"Galer\xEDa",promptLabelPicture:"C\xE1mara"}),n=t?.path||t?.webPath;if(!n)throw new Error("No image");let e=yield this.ocr.recognizeSmart(n);this.fillFromOcr(e),this.rut&&(this.rut=this.formatRutDisplay(this.rut)),this.rutInvalido=!this.validaRutDV(this.rut),this.nombre=this.buildNombre(),yield this.toast("Datos autocompletados desde la c\xE9dula \u2728")}catch(t){console.error("\u274C OCR ML Kit error:",t?.message||t),yield this.toast(t?.message?`OCR fall\xF3: ${t.message}`:"No se pudo leer la c\xE9dula. Intenta con mejor luz/enfoque.","warning")}finally{this.scanning=!1}})}triggerBoleta(t){t&&t.click()}fillFromOcr(t){t.rut&&(this.rut=t.rut),t.primerNombre&&(this.primer_nombre=t.primerNombre),t.segundoNombre&&(this.segundo_nombre=t.segundoNombre??""),t.primerApellido&&(this.primer_apellido=t.primerApellido),t.segundoApellido&&(this.segundo_apellido=t.segundoApellido??""),t.fechaNacimiento&&(this.fecha_nacimiento=t.fechaNacimiento),t.sexo&&(this.sexo=t.sexo)}onBoletaPicked(t){let e=t.target.files?.[0]||null;this.boletaFile=e,this.boletaUrl=null}subirBoletaSiHaceFalta(){return S(this,null,function*(){if(this.boletaUrl)return!0;if(!this.boletaFile)return!1;try{this.uploadingBoleta=!0;let t="boletas",n=this.boletaFile.name.split(".").pop()?.toLowerCase()||"jpg",e=(this.email||"sin-email").replace(/[^a-z0-9@._-]/gi,"_").toLowerCase(),o=`boleta_${Date.now()}.${n}`,a=`${e}/${o}`,{error:i}=yield k.storage.from(t).upload(a,this.boletaFile,{cacheControl:"3600",upsert:!0,contentType:this.boletaFile.type||void 0});if(i)throw i;let{data:m}=k.storage.from(t).getPublicUrl(a);return this.boletaUrl=m.publicUrl,yield this.toast("Boleta subida correctamente \u2705"),!0}catch(t){return console.error("Upload boleta error:",t?.message||t),yield this.toast("No se pudo subir la boleta. Intenta nuevamente.","danger"),!1}finally{this.uploadingBoleta=!1}})}toast(t,n="success"){return S(this,null,function*(){yield(yield this.toastCtrl.create({message:t,color:n,duration:2200,position:"top"})).present()})}buildNombre(){return[this.primer_nombre?.trim(),this.segundo_nombre?.trim(),this.primer_apellido?.trim(),this.segundo_apellido?.trim()].filter(Boolean).join(" ")}formatRutDisplay(t){if(!t)return t;let n=t.replace(/\s|\./g,"").toUpperCase(),e=n.match(/^(\d+)-?([0-9K])$/i);return e?`${e[1]}-${e[2].toUpperCase()}`:n}normalizaRut(t){return(t||"").replace(/\./g,"").replace(/-/g,"").toUpperCase()}validaRutDV(t){let n=this.normalizaRut(t);if(n.length<2)return!1;let e=n.slice(0,-1),o=n.slice(-1);if(!/^\d+$/.test(e))return!1;let a=0,i=2;for(let _=e.length-1;_>=0;_--)a+=parseInt(e[_],10)*i,i=i===7?2:i+1;let m=11-a%11,b=m===11?"0":m===10?"K":String(m);return o.toUpperCase()===b}telefonoEsValido(){return/^(\+?56)?\s?9\d{8}$/.test((this.telefono||"").trim())}onRutBlur(){this.rutInvalido=!this.validaRutDV(this.rut)}showSuccessAlert(){return S(this,null,function*(){yield(yield this.alertCtrl.create({header:"\xA1Registro exitoso! \u{1F389}",subHeader:"Tu cuenta fue creada correctamente",message:"Ya puedes iniciar sesi\xF3n en RedBarrio \u{1F3E1}",buttons:[{text:"OK",handler:()=>this.router.navigateByUrl("/home",{replaceUrl:!0})}],backdropDismiss:!1,mode:"ios"})).present()})}register(t){return S(this,null,function*(){this.loading=!0,this.errorMsg="";try{if(this.rutInvalido=!this.validaRutDV(this.rut),this.rutInvalido||!this.telefonoEsValido()||!t.valid){yield this.toast("Revisa los campos obligatorios.","warning"),this.loading=!1;return}if(!this.boletaFile&&!this.boletaUrl){yield this.toast("Debes subir una boleta de servicios para continuar.","warning"),this.loading=!1;return}if(!this.boletaUrl&&!(yield this.subirBoletaSiHaceFalta())){this.loading=!1;return}this.nombre=this.buildNombre();let n=yield this.auth.signUpFull({email:this.email.trim(),password:this.password,nombre:this.nombre,primer_nombre:this.primer_nombre||null,segundo_nombre:this.segundo_nombre||null,primer_apellido:this.primer_apellido||null,segundo_apellido:this.segundo_apellido||null,rut:this.rut||null,direccion:this.direccion||null,telefono:this.telefono||null,fecha_nacimiento:this.fecha_nacimiento||null,sexo:this.sexo||null,url_boleta_servicio:this.boletaUrl||null});typeof this.auth.signOut=="function"&&(yield this.auth.signOut()),n?.needsEmailConfirm?yield this.toast("Cuenta creada. Revisa tu correo para confirmar."):yield this.toast("Cuenta creada. Inicia sesi\xF3n para continuar."),yield this.router.navigateByUrl("/auth/login",{replaceUrl:!0})}catch(n){let e=n?.message||"No se pudo crear la cuenta.",o=/registered|exists|already/i.test(e)?"Este correo ya est\xE1 registrado.":e;this.errorMsg=o,yield this.toast(o,"danger")}finally{this.loading=!1}})}};p.\u0275fac=function(n){return new(n||p)(R(L),R(fe),R(he),R(be),R(Me))},p.\u0275cmp=U({type:p,selectors:[["app-register"]],decls:79,vars:44,consts:[["inpBoleta",""],["f","ngForm"],["fullscreen","",1,"ion-padding"],[1,"wrap"],["color","primary"],["expand","block","fill","outline",3,"click","disabled"],["slot","start","name","scan-outline"],["color","medium","style","display:block;text-align:center;margin:6px 0 12px;",4,"ngIf"],[2,"margin-top","8px"],["type","file","accept","image/*,application/pdf","hidden","",3,"change"],[1,"boleta-uploader",2,"display","flex","gap","8px","align-items","center","margin","6px 0 10px"],["fill","solid","color","medium",3,"click","disabled"],["slot","start","name","cloud-upload-outline"],[4,"ngIf"],["color","success","outline","",4,"ngIf"],["size","small","fill","outline","color","primary",3,"disabled","click",4,"ngIf"],["color","medium",2,"display","block","margin-top","-4px"],["autocomplete","on","novalidate","",3,"ngSubmit"],["lines","none"],["name","person-outline","slot","start","color","primary"],["name","primer_nombre","placeholder","Primer nombre","required","","enterkeyhint","next","autocomplete","given-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["color","danger",4,"ngIf"],["lines","none",2,"margin-top","8px"],["name","segundo_nombre","placeholder","Segundo nombre (opcional)","enterkeyhint","next","autocomplete","additional-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","primer_apellido","placeholder","Primer apellido","required","","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","segundo_apellido","placeholder","Segundo apellido (opcional)","enterkeyhint","next","autocomplete","family-name","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["lines","none",2,"margin-top","10px"],["name","card-outline","slot","start","color","primary"],["name","rut","placeholder","RUT (ej: 12.345.678-5)","required","","enterkeyhint","next","inputmode","text","maxlength","12","spellcheck","false",3,"ngModelChange","ionBlur","ngModel","disabled"],["name","calendar-outline","slot","start","color","primary"],["type","date","name","fecha_nacimiento","placeholder","Fecha de nacimiento","enterkeyhint","next",3,"ngModelChange","ngModel","disabled"],["name","male-female-outline","slot","start","color","primary"],["interface","popover","name","sexo","placeholder","Sexo",3,"ngModelChange","ngModel","disabled"],["value","M"],["value","F"],["name","home-outline","slot","start","color","primary"],["name","direccion","placeholder","Direcci\xF3n","enterkeyhint","next","autocomplete","street-address","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","call-outline","slot","start","color","primary"],["type","tel","name","telefono","placeholder","Tel\xE9fono (+56 9XXXXXXXX)","required","","enterkeyhint","next","inputmode","tel","autocomplete","tel-national","maxlength","14",3,"ngModelChange","ngModel","disabled"],["name","mail-outline","slot","start","color","primary"],["type","email","name","email","placeholder","Correo","required","","enterkeyhint","next","autocomplete","email","spellcheck","false",3,"ngModelChange","ngModel","disabled"],["name","lock-closed-outline","slot","start","color","primary"],["type","password","name","password","placeholder","Contrase\xF1a (m\xEDnimo 6 caracteres)","required","","minlength","6","enterkeyhint","done","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],["color","danger","style","display:block;margin-top:8px;",4,"ngIf"],["type","submit","expand","block","size","large","color","primary",2,"margin-top","16px",3,"disabled"],["slot","start",4,"ngIf"],["color","medium",2,"display","block","text-align","center","margin","6px 0 12px"],["color","success","outline",""],["name","checkmark-done-outline"],["size","small","fill","outline","color","primary",3,"click","disabled"],["color","danger"],["color","danger",2,"display","block","margin-top","8px"],["slot","start"]],template:function(n,e){if(n&1){let o=T();r(0,"ion-content",2)(1,"div",3)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title",4),u(5,"Registro de vecino"),d(),r(6,"ion-card-subtitle"),u(7,"Completa tus datos"),d()(),r(8,"ion-card-content")(9,"ion-button",5),x("click",function(){return g(o),h(e.scanCedula())}),f(10,"ion-icon",6),u(11),d(),M(12,xe,2,0,"ion-note",7),r(13,"ion-button",5),x("click",function(){return g(o),h(e.scanCedula())}),f(14,"ion-icon",6),u(15),d(),f(16,"div",8),r(17,"input",9,0),x("change",function(i){return g(o),h(e.onBoletaPicked(i))}),d(),r(19,"div",10)(20,"ion-button",11),x("click",function(){g(o);let i=N(18);return h(e.triggerBoleta(i))}),f(21,"ion-icon",12),u(22),d(),M(23,Re,3,1,"ion-text",13)(24,Pe,4,0,"ion-chip",14)(25,Oe,2,1,"ion-button",15),d(),r(26,"ion-note",16),u(27," Formatos permitidos: imagen (JPG/PNG) o PDF. Requisito para registrarse. "),d(),r(28,"form",17,1),x("ngSubmit",function(){g(o);let i=N(29);return h(e.register(i))}),r(30,"ion-item",18),f(31,"ion-icon",19),r(32,"ion-input",20),C("ngModelChange",function(i){return g(o),w(e.primer_nombre,i)||(e.primer_nombre=i),h(i)}),d()(),M(33,Ne,2,0,"ion-note",21),r(34,"ion-item",22),f(35,"ion-icon",19),r(36,"ion-input",23),C("ngModelChange",function(i){return g(o),w(e.segundo_nombre,i)||(e.segundo_nombre=i),h(i)}),d()(),r(37,"ion-item",22),f(38,"ion-icon",19),r(39,"ion-input",24),C("ngModelChange",function(i){return g(o),w(e.primer_apellido,i)||(e.primer_apellido=i),h(i)}),d()(),M(40,ve,2,0,"ion-note",21),r(41,"ion-item",22),f(42,"ion-icon",19),r(43,"ion-input",25),C("ngModelChange",function(i){return g(o),w(e.segundo_apellido,i)||(e.segundo_apellido=i),h(i)}),d()(),r(44,"ion-item",26),f(45,"ion-icon",27),r(46,"ion-input",28),C("ngModelChange",function(i){return g(o),w(e.rut,i)||(e.rut=i),h(i)}),x("ionBlur",function(){return g(o),h(e.onRutBlur())}),d()(),M(47,Te,2,0,"ion-note",21)(48,Be,2,0,"ion-note",21),r(49,"ion-item",26),f(50,"ion-icon",29),r(51,"ion-input",30),C("ngModelChange",function(i){return g(o),w(e.fecha_nacimiento,i)||(e.fecha_nacimiento=i),h(i)}),d()(),r(52,"ion-item",26),f(53,"ion-icon",31),r(54,"ion-select",32),C("ngModelChange",function(i){return g(o),w(e.sexo,i)||(e.sexo=i),h(i)}),r(55,"ion-select-option",33),u(56,"Masculino"),d(),r(57,"ion-select-option",34),u(58,"Femenino"),d()()(),r(59,"ion-item",26),f(60,"ion-icon",35),r(61,"ion-input",36),C("ngModelChange",function(i){return g(o),w(e.direccion,i)||(e.direccion=i),h(i)}),d()(),r(62,"ion-item",26),f(63,"ion-icon",37),r(64,"ion-input",38),C("ngModelChange",function(i){return g(o),w(e.telefono,i)||(e.telefono=i),h(i)}),d()(),M(65,ke,2,0,"ion-note",21)(66,Ae,2,0,"ion-note",21),r(67,"ion-item",26),f(68,"ion-icon",39),r(69,"ion-input",40),C("ngModelChange",function(i){return g(o),w(e.email,i)||(e.email=i),h(i)}),d()(),M(70,Ve,2,0,"ion-note",21),r(71,"ion-item",26),f(72,"ion-icon",41),r(73,"ion-input",42),C("ngModelChange",function(i){return g(o),w(e.password,i)||(e.password=i),h(i)}),d()(),M(74,Ue,2,0,"ion-note",21)(75,Fe,2,1,"ion-text",43),r(76,"ion-button",44),M(77,De,1,0,"ion-spinner",45),u(78),d()()()()()()}if(n&2){let o=N(29);s(9),c("disabled",e.loading||e.scanning),s(2),O(" ",e.scanning?"Escaneando\u2026":"Escanear c\xE9dula "," "),s(),c("ngIf",e.scanning),s(),c("disabled",e.loading||e.scanning),s(2),O(" ",e.scanning?"Escaneando\u2026":"Escanear c\xE9dula "," "),s(5),c("disabled",e.loading||e.uploadingBoleta),s(2),O(" ",e.uploadingBoleta?"Subiendo\u2026":e.boletaFile?"Cambiar archivo":"Subir boleta de servicios"," "),s(),c("ngIf",e.boletaFile&&!e.boletaUrl),s(),c("ngIf",e.boletaUrl),s(),c("ngIf",e.boletaFile&&!e.boletaUrl),s(7),y("ngModel",e.primer_nombre),c("disabled",e.loading),s(),c("ngIf",o.submitted&&!e.primer_nombre),s(3),y("ngModel",e.segundo_nombre),c("disabled",e.loading),s(3),y("ngModel",e.primer_apellido),c("disabled",e.loading),s(),c("ngIf",o.submitted&&!e.primer_apellido),s(3),y("ngModel",e.segundo_apellido),c("disabled",e.loading),s(3),y("ngModel",e.rut),c("disabled",e.loading),s(),c("ngIf",o.submitted&&!e.rut),s(),c("ngIf",e.rut&&e.rutInvalido),s(3),y("ngModel",e.fecha_nacimiento),c("disabled",e.loading),s(3),y("ngModel",e.sexo),c("disabled",e.loading),s(7),y("ngModel",e.direccion),c("disabled",e.loading),s(3),y("ngModel",e.telefono),c("disabled",e.loading),s(),c("ngIf",o.submitted&&!e.telefono),s(),c("ngIf",e.telefono&&!e.telefonoEsValido()),s(3),y("ngModel",e.email),c("disabled",e.loading),s(),c("ngIf",o.submitted&&!e.email),s(3),y("ngModel",e.password),c("disabled",e.loading),s(),c("ngIf",o.submitted&&(!e.password||e.password.length<6)),s(),c("ngIf",e.errorMsg),s(),c("disabled",e.loading),s(),c("ngIf",e.loading),s(),O(" ",e.loading?"Creando\u2026":"Registrarme"," ")}},dependencies:[_e,Q,$,ee,te,ie,ne,oe,re,ae,le,se,de,ce,pe,me,ue,ge,Y,Z,D,F,J,X,W,z,K,H,G,q,j],styles:['@charset "UTF-8";[_nghost-%COMP%]{--bg1: #f7fbff;--bg2: #e8f0ff;--card-bg: #ffffff}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%)}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-text-color);--border-color: transparent}.wrap[_ngcontent-%COMP%]{max-width:420px;margin:8vh auto 0}ion-card[_ngcontent-%COMP%]{border-radius:16px;background:var(--card-bg);box-shadow:0 10px 30px #2b58761f}ion-card-title[_ngcontent-%COMP%]{font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{margin-top:4px;opacity:.7}ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 12px;--inner-padding-end: 12px;--min-height: 54px;border:1px solid rgba(25,71,170,.15);border-radius:12px;margin-top:12px;transition:border-color .16s ease,box-shadow .16s ease}ion-item.item-has-focus[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px #3b82f626}ion-icon[slot=start][_ngcontent-%COMP%]{margin-right:6px;opacity:.9}ion-input[_ngcontent-%COMP%]{font-size:16px}ion-button.cta[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 6px 18px rgba(59, 130, 246, .35);margin-top:16px}.error[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-top:12px}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--bg1: #0b1220;--bg2: #0f1630;--card-bg: #141a2a}ion-card[_ngcontent-%COMP%]{box-shadow:0 14px 34px #00000073}ion-item[_ngcontent-%COMP%]{border-color:#ffffff14}  .custom-success-alert .alert-wrapper{background:#1e1e2a;border-radius:22px;padding:25px;text-align:center;max-width:320px;box-shadow:0 8px 30px #00000073}  .custom-success-alert .alert-title{color:#2dd36f;font-weight:800;font-size:1.4rem;margin-bottom:5px;letter-spacing:.3px}  .custom-success-alert .alert-sub-title{color:#e0e0e0;font-weight:500;margin-bottom:10px;font-size:1rem;opacity:.9}  .custom-success-alert .alert-message{color:#ccc;font-size:.95rem;line-height:1.4;margin-top:5px}  .custom-success-alert .ok-button{color:#2d8cf0!important;font-weight:700;font-size:1rem;text-transform:uppercase;letter-spacing:.4px}}']});let l=p;return l})();export{$e as RegisterPage};
