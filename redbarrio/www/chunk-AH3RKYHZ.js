import{a as G}from"./chunk-6C47DM3O.js";import"./chunk-3ODY6JMO.js";import{A as _,Aa as F,Ba as W,C as b,Ca as R,D as h,E as x,Fa as U,G as I,Ja as z,Ka as N,La as j,M as k,P as v,V as P,W as w,Ya as A,Za as H,_ as S,ca as O,db as V,h as i,hb as q,i as u,j as C,l as f,m as g,n,na as L,o as t,p as d,t as m,ta as T,u as M,wa as E,y as l,ya as B,za as D}from"./chunk-C6RY7PX2.js";import"./chunk-G4GOZ2R2.js";import"./chunk-3EH7DRQW.js";import"./chunk-QUJFQN2Y.js";import"./chunk-E24K4UEG.js";import"./chunk-LEIZBYT7.js";import"./chunk-UM2WNVGK.js";import"./chunk-PTM2QU7L.js";import"./chunk-Z7QLWI7J.js";import"./chunk-DNXVUVY2.js";import"./chunk-TVBC6MYV.js";import"./chunk-26CMJVF7.js";import"./chunk-QQBOPM2N.js";import"./chunk-IACAUHTZ.js";import"./chunk-6KZXCEZL.js";import"./chunk-C7E54FQN.js";import"./chunk-ATYZ3M5D.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-Z455EQLB.js";import"./chunk-CKP3SGE2.js";import"./chunk-CIXXGG5D.js";import{j as y}from"./chunk-VI73JOY6.js";var K=()=>["/auth/register"];function Q(o,r){if(o&1&&(n(0,"ion-text",17),l(1),t()),o&2){let J=M();i(),_(" ",J.errorMsg," ")}}function X(o,r){o&1&&d(0,"ion-spinner",18)}var le=(()=>{let r=class r{constructor(p,s){this.auth=p,this.router=s,this.email="",this.password="",this.loading=!1,this.errorMsg=""}login(){return y(this,null,function*(){this.loading=!0,this.errorMsg="";try{yield this.auth.signIn(this.email,this.password),this.router.navigateByUrl("/home",{replaceUrl:!0})}catch(p){this.errorMsg=p?.message??"Error al iniciar sesi\xF3n"}finally{this.loading=!1}})}goToRegister(){this.loading||this.router.navigateByUrl("/auth/register")}};r.\u0275fac=function(s){return new(s||r)(u(G),u(P))},r.\u0275cmp=C({type:r,selectors:[["app-login"]],decls:26,vars:9,consts:[["fullscreen","",1,"ion-padding"],[2,"max-width","420px","margin","8vh auto 0"],[2,"border-radius","16px"],["color","primary"],["lines","none"],["name","mail-outline","slot","start","color","primary"],["type","email","autocomplete","email","placeholder","Correo",3,"ngModelChange","keyup.enter","ngModel"],["lines","none",2,"margin-top","10px"],["name","lock-closed-outline","slot","start","color","primary"],["type","password","autocomplete","current-password","placeholder","Contrase\xF1a",3,"ngModelChange","keyup.enter","ngModel"],["color","danger","style","display:block; margin-top:12px;",4,"ngIf"],["expand","block","size","large","color","primary",2,"margin-top","16px","border-radius","12px",3,"click","disabled"],["slot","start",4,"ngIf"],[2,"display","flex","align-items","center","gap","8px","margin","14px 0 6px"],[2,"flex","1","height","1px","background","rgba(0,0,0,.08)"],[2,"opacity",".6"],["expand","block","fill","clear",2,"border-radius","12px",3,"routerLink","disabled"],["color","danger",2,"display","block","margin-top","12px"],["slot","start"]],template:function(s,e){s&1&&(n(0,"ion-content",0)(1,"div",1)(2,"ion-card",2)(3,"ion-card-header")(4,"ion-card-title",3),l(5,"Iniciar sesi\xF3n"),t(),n(6,"ion-card-subtitle"),l(7,"Bienvenido/a \u{1F44B}"),t()(),n(8,"ion-card-content")(9,"ion-item",4),d(10,"ion-icon",5),n(11,"ion-input",6),x("ngModelChange",function(a){return h(e.email,a)||(e.email=a),a}),m("keyup.enter",function(){return e.login()}),t()(),n(12,"ion-item",7),d(13,"ion-icon",8),n(14,"ion-input",9),x("ngModelChange",function(a){return h(e.password,a)||(e.password=a),a}),m("keyup.enter",function(){return e.login()}),t()(),f(15,Q,2,1,"ion-text",10),n(16,"ion-button",11),m("click",function(){return e.login()}),f(17,X,1,0,"ion-spinner",12),l(18),t(),n(19,"div",13),d(20,"div",14),n(21,"small",15),l(22,"o"),t(),d(23,"div",14),t(),n(24,"ion-button",16),l(25," Crear cuenta "),t()()()()()),s&2&&(i(11),b("ngModel",e.email),i(3),b("ngModel",e.password),i(),g("ngIf",e.errorMsg),i(),g("disabled",e.loading),i(),g("ngIf",e.loading),i(),_(" ",e.loading?"Ingresando\u2026":"Ingresar"," "),i(6),g("routerLink",I(8,K))("disabled",e.loading))},dependencies:[q,E,B,D,F,W,R,U,z,N,j,A,H,T,V,v,k,L,S,O,w],styles:['@charset "UTF-8";[_nghost-%COMP%]{--bg1: #f7fbff;--bg2: #e8f0ff;--card-bg: #ffffff}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%)}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-text-color);--border-color: transparent}ion-card[_ngcontent-%COMP%]{max-width:420px;margin:8vh auto 0;border-radius:16px;background:var(--card-bg);box-shadow:0 10px 30px #2b58761f}ion-card-title[_ngcontent-%COMP%]{font-weight:700}ion-card-subtitle[_ngcontent-%COMP%]{margin-top:4px;opacity:.7}ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 12px;--inner-padding-end: 12px;--min-height: 54px;border:1px solid rgba(25,71,170,.15);border-radius:12px;margin-top:12px;transition:border-color .16s ease,box-shadow .16s ease}ion-item.item-has-focus[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px #3b82f626}ion-icon[slot=start][_ngcontent-%COMP%]{margin-right:6px;opacity:.9}ion-input[_ngcontent-%COMP%]{font-size:16px}ion-button[_ngcontent-%COMP%]{--border-radius: 12px;--box-shadow: 0 6px 18px rgba(59, 130, 246, .35)}ion-text[color=danger][_ngcontent-%COMP%]{display:block;font-size:.9rem}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--bg1: #0b1220;--bg2: #0f1630;--card-bg: #141a2a}ion-card[_ngcontent-%COMP%]{box-shadow:0 14px 34px #00000073}ion-item[_ngcontent-%COMP%]{border-color:#ffffff14}}']});let o=r;return o})();export{le as LoginPage};
