<!-- HERO HEADER -->
<ion-header class="rb-hero-header" slot="fixed">
  <div class="rb-hero-container">
    <div class="rb-hero-info">
      <div class="rb-hero-logo">
        <img src="assets/icon/redbarrio.png" alt="Logo RedBarrio" />
      </div>

      <div class="rb-hero-text">
        <h1>RedBarrio</h1>
        <p>Todas las Noticias</p>
      </div>
    </div>
  </div>
</ion-header>

<!-- CONTENIDO -->
<ion-content class="news-page" [fullscreen]="true">
  <!-- LOADING -->
  <div class="loading" *ngIf="estaCargando">
    <ion-spinner name="crescent"></ion-spinner>
    <p>Cargando noticias...</p>
  </div>

  <!-- VACÍO -->
  <div class="empty" *ngIf="!estaCargando && (!noticias || noticias.length === 0)">
    <h2>No hay noticias disponibles</h2>
    <p>Cuando se publiquen noticias, aparecerán aquí.</p>
  </div>

  <!-- LISTADO -->
  <div class="news-wrapper" *ngIf="!estaCargando && noticias.length > 0">
    <ion-card
      class="news-card"
      *ngFor="let n of noticias"
      (click)="verDetalle(n.id)"
    >
      <!-- Imagen con badge encima -->
      <div class="news-image-container">
        <img
          *ngIf="n.url_foto && n.url_foto.length > 0"
          [src]="n.url_foto[0]"
          alt="Imagen Noticia"
        />

        <!-- Badge redonda SOBRE la foto -->
        <div class="badge" [ngClass]="getBadgeClass(n)">
          <ion-icon [name]="getBadgeIcon(n)"></ion-icon>
        </div>
      </div>

      <!-- Contenido de la tarjeta -->
      <div class="news-content">
        <h3 class="news-title">{{ n.titulo }}</h3>

        <p class="news-excerpt">
          {{ n.parrafos && n.parrafos.length ? n.parrafos[0] : 'Sin descripción.' }}
        </p>

        <div class="news-footer">
          <span>{{ n.fecha_creacion | date:'mediumDate' }}</span>
          <span class="author">Por {{ n.nombre_autor || 'Directiva' }}</span>
        </div>
      </div>
    </ion-card>
  </div>
</ion-content>
