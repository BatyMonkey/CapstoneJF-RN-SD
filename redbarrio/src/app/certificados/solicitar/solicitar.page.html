<!-- HERO HEADER -->
<ion-header class="rb-hero-header" slot="fixed">
  <div class="rb-hero-container">
    <div class="rb-hero-info">
      <img src="assets/icon/redbarrio-logo.svg" alt="Logo RedBarrio" class="rb-hero-logo" />
      <div class="rb-hero-text">
        <h1>RedBarrio</h1>
        <p>Tu comunidad conectada</p>
      </div>
    </div>

    <div class="rb-hero-chat">
      <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
    </div>
  </div>
</ion-header>


<!-- CONTENIDO PRINCIPAL -->
<ion-content [fullscreen]="true" class="cert-page">

  <!-- CONTENEDOR FLEX GENERAL (funciona en móvil) -->
  <div class="page-container">

    <!-- WRAPPER CENTRAL -->
    <div class="content-wrapper">

      <!-- TARJETA PRINCIPAL "CERTIFICADOS" -->
      <div class="cert-main-card">
        <div class="icon-circle">
          <ion-icon name="document-text-outline"></ion-icon>
        </div>

        <div class="cert-main-text">
          <h2>Certificados</h2>
          <p>Solicita y descarga tus documentos</p>
        </div>
      </div>

      <!-- TIP -->
      <div class="tip-box">
        <ion-icon name="bulb-outline"></ion-icon>
        <p>Puedes descargar el certificado o enviarlo directamente a tu correo electrónico.</p>
      </div>

      <!-- EMITIR CERTIFICADO -->
      <h2 class="section-title">Emitir Certificado</h2>

      <ion-card class="cert-option">
        <div class="icon-area">
          <ion-icon name="home-outline"></ion-icon>
        </div>

        <div class="info-area">
          <h3>Certificado de Residencia</h3>
          <p>Acredita que eres residente del barrio</p>

          <div class="btn-row">
            <ion-button class="btn-download" (click)="emitirDescargar()">
              <ion-icon name="download-outline" slot="start"></ion-icon>
              Descargar
            </ion-button>

            <ion-button class="btn-email" (click)="emitirEnviar()">
              <ion-icon name="mail-outline" slot="start"></ion-icon>
              Enviar Email
            </ion-button>
          </div>
        </div>
      </ion-card>


      <!-- ÚLTIMO CERTIFICADO -->
      <h2 class="section-title">Último Certificado Emitido</h2>

      <ion-card class="last-cert" *ngIf="ultimaFecha">
        <div class="status-icon">
          <ion-icon name="checkmark-circle-outline"></ion-icon>
        </div>

        <div class="last-info">
          <h3>Certificado de Residencia</h3>

          <p class="date">Emitido el {{ ultimaFecha | date:'dd MMMM, yyyy' }}</p>

          <div class="meta">
            <div>
              <label>Estado:</label>
              <span class="vigente">Vigente</span>
            </div>
            <div>
              <label>Válido hasta:</label>
              <span>{{ fechaValidez | date:'dd/MM/yyyy' }}</span>
            </div>
          </div>
        </div>
      </ion-card>

      <!-- INFORMACIÓN DE ENVÍO -->
      <div class="info-envio">
        <ion-icon name="mail-outline"></ion-icon>

        <div class="content">
          <h4>Información de Envío</h4>
          <p>Los certificados se enviarán a: <strong>{{ emailDestino }}</strong></p>
        </div>
      </div>

    </div>
  </div>
</ion-content>